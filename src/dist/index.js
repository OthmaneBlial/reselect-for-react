'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=require('react'),_react2=_interopRequireDefault(_react);Object.defineProperty(exports,'__esModule',{value:!0}),exports.ReSelectMultiple=exports.ReSelectSingle=void 0;require('./main.css');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var ReSelectSingle=exports.ReSelectSingle=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.state={options:!1,selectValue:'',optionsList:d.props.options,clear:!1,searching:!1,search:'',filteredOptionsList:[]},d.showOptions=d.showOptions.bind(d),d.setSelectValue=d.setSelectValue.bind(d),d.clearField=d.clearField.bind(d),d.clear=d.clear.bind(d),d.onTextChange=d.onTextChange.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'showOptions',value:function showOptions(){this.setState({options:!this.state.options,searching:!1})}},{key:'setSelectValue',value:function setSelectValue(c){this.setState({selectValue:c,options:!1,clear:!1}),this.props.getSelectedOption(c)}},{key:'clearField',value:function clearField(){this.setState({selectValue:''}),this.props.getSelectedOption('')}},{key:'clear',value:function clear(){this.setState({clear:!0})}},{key:'onTextChange',value:function onTextChange(c){for(var d=c.target.innerText,e=[],f=0;f<this.state.optionsList.length;f++)e.push(this.state.optionsList[f]);var g=[];for(f=0;f<e.length;f++)e[f].toLowerCase().startsWith(d.toLowerCase())&&g.push(e[f]);this.setState({options:!0,searching:!0,search:d,filteredOptionsList:g})}},{key:'componentDidMount',value:function componentDidMount(){}},{key:'render',value:function render(){var c,d=this;return c=this.state.searching?this.state.filteredOptionsList:this.state.optionsList,_react2.default.createElement('div',null,_react2.default.createElement('div',{className:'container'},_react2.default.createElement('div',{className:'select-multiple'},''===this.state.selectValue?_react2.default.createElement('div',{contenteditable:'true',onInput:this.onTextChange,onFocus:this.showOptions,onClick:this.clear,className:'message'},this.state.clear?'':this.props.message):_react2.default.createElement('div',{className:'message-black'},this.state.selectValue),_react2.default.createElement('span',{onClick:this.showOptions,className:'caret'},this.state.options?_react2.default.createElement('i',{className:'fa fa-caret-up','aria-hidden':'true'}):_react2.default.createElement('i',{className:'fa fa-caret-down','aria-hidden':'true'})),''===this.state.selectValue?'':_react2.default.createElement('span',{onClick:this.clearField,className:'window-close'},_react2.default.createElement('i',{className:'fa fa-window-close','aria-hidden':'true'}))),this.state.options?_react2.default.createElement('ul',{className:'options'},c.map(function(e){return _react2.default.createElement('li',{key:e,onClick:function onClick(){return d.setSelectValue(e)}},e)}),0===this.state.filteredOptionsList.length&&this.state.searching?_react2.default.createElement('li',{className:'disabled-item'},'No results to show'):''):''))}}]),b}(_react2.default.Component),ReSelectMultiple=exports.ReSelectMultiple=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.state={options:!1,selectValue:d.props.message,optionsList:d.props.options,selectValues:[],max:d.props.max||d.props.options.length,searching:!1,search:'',filteredOptionsList:[]},d.showOptions=d.showOptions.bind(d),d.setSelectValue=d.setSelectValue.bind(d),d.deleteOptionItem=d.deleteOptionItem.bind(d),d.clearAllFields=d.clearAllFields.bind(d),d.onTextChange=d.onTextChange.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'showOptions',value:function showOptions(){this.setState({options:!this.state.options})}},{key:'setSelectValue',value:function setSelectValue(c){this.state.selectValues.includes(c)||(this.setState({selectValues:[].concat(_toConsumableArray(this.state.selectValues),[c])}),this.props.getSelectedOptions([].concat(_toConsumableArray(this.state.selectValues),[c]))),this.setState({selectValue:this.props.message,options:!1,search:''})}},{key:'deleteOptionItem',value:function deleteOptionItem(c){var d=this.state.selectValues;d.splice(c,1),this.setState({selectValues:d}),this.props.getSelectedOptions(d)}},{key:'clearAllFields',value:function clearAllFields(){this.setState({selectValues:[]}),this.props.getSelectedOptions([])}},{key:'onTextChange',value:function onTextChange(c){for(var d=c.target.innerText,e=[],f=0;f<this.state.optionsList.length;f++)e.push(this.state.optionsList[f]);var g=[];for(f=0;f<e.length;f++)e[f].toLowerCase().startsWith(d.toLowerCase())&&g.push(e[f]);this.setState({options:!0,searching:!0,search:d,filteredOptionsList:g})}},{key:'componentDidMount',value:function componentDidMount(){}},{key:'render',value:function render(){var c,d=this;return c=this.state.searching?this.state.filteredOptionsList:this.state.optionsList,_react2.default.createElement('div',null,_react2.default.createElement('div',{className:'container'},_react2.default.createElement('div',{className:'select-multiple'},_react2.default.createElement('div',{className:'select-multiple-items'},this.state.selectValues.map(function(e,f){return _react2.default.createElement('div',{key:f,style:{display:'inline-block'}},_react2.default.createElement('a',{onClick:function onClick(){return d.deleteOptionItem(f)},className:'select-multiple-item'},_react2.default.createElement('span',null,'x'),e))}),0<this.state.selectValues.length?_react2.default.createElement('a',{contenteditable:'true',className:'search-input',id:'search-input',onInput:this.onTextChange,onFocus:this.showOptions},this.state.options?null:''):''),0===this.state.selectValues.length?_react2.default.createElement('p',{contenteditable:'true',className:'message',onInput:this.onTextChange,onClick:this.showOptions},this.props.message):'',_react2.default.createElement('span',{onClick:this.showOptions,className:'caret'},this.state.options?_react2.default.createElement('i',{className:'fa fa-caret-up','aria-hidden':'true'}):_react2.default.createElement('i',{className:'fa fa-caret-down','aria-hidden':'true'})),0<this.state.selectValues.length?_react2.default.createElement('span',{onClick:this.clearAllFields,className:'window-close'},_react2.default.createElement('i',{className:'fa fa-window-close','aria-hidden':'true'})):''),this.state.options?_react2.default.createElement('ul',{className:'options'},c.map(function(e){return _react2.default.createElement('li',{key:e,className:d.state.selectValues.includes(e)||d.state.max===d.state.selectValues.length?'disabled-item':'',onClick:function onClick(){return d.setSelectValue(e)}},e)})):''))}}]),b}(_react2.default.Component);